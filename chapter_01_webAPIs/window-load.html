<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!--head + defer 옵션을 사용하게 되면 "script='test.js'를 다운로드 받아줘."" 라고 명령만 하고 가던길 계속 감(HTML parcing 계속) -->
  <script src="test.js" defer></script>
  <!-- ? 그럼 async랑 defer의 차이가 뭐야? -->
  <!-- ! async 👉🏻 script가 지금은 하나지만, 여러개인 경우로 예를 들어야 함. 이런 경우 async는 다운로드 완료되는 순서대로 즉시 실행. -->
  <!-- ! ✨ defer 👉🏻 defer은 script를 모두 다운로드 한 뒤에, 작성된 차례대로 실행 -->
</head>
<body>
  <script>
  // after only document. 즉, html만 다운 완료되면 호출됨.
  // (Browser에서 페이지를 내리기 전에 뭔가를 해야 한다면) DOMContentLoaded 이벤트에 콜백함수로 등록해서 처리하면 됨)
    window.addEventListener('DOMContentLoaded', () => {
      console.log('DOMContentLoaded');
    })

  // after ALL resources. html뿐만 아니라 css, images, ... 의 모든 리소스가 다운 완료 되면 호출.
    window.addEventListener('load', () => {
    console.log('load');
  })

  // befor unload. 즉, unroad가 되기 전에 호출됨.
    window.addEventListener('beforeunload', () => {
      console.log('load');
    }) 

  // after resource is being unload, 즉, 리소스들이 다 다운되었을 때 호출됨.
    window.addEventListener('unload', () => {
      console.log('load');
    }) 
  </script>
</body>
</html>